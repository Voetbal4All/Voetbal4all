<!DOCTYPE html>
<html lang="nl">
<head>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon-180x180.png">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#0B1020">

  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4062633211824348"
    crossorigin="anonymous"></script>

  <meta charset="UTF-8" />
  <title>Voetbal4All - Event aanmelden</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap">
  <link rel="stylesheet" href="style.css" />
</head>

<body class="v4-hide-live-mobile">
<div class="page">

  <!-- ================= NAVBAR ================= -->
  <header class="navbar">
    <div class="shell">
      <div class="navbar-inner">

        <a href="index.html" class="brand brand--logo-only">
          <img
            src="assets/img/brand/logo-voetbal4all.svg"
            alt="Voetbal4All"
            class="brand-logo"
            loading="eager"
          />
        </a>

        <nav class="nav-links">
          <a href="index.html" class="nav-link">Home</a>
          <a href="artikels.html" class="nav-link">Artikels</a>

          <!-- SPORTIEVE EVENTS -->
          <div class="nav-item nav-item--dropdown">
            <button type="button" class="nav-link nav-link--dropdown">
              Sportieve events <span class="nav-link-caret">▾</span>
            </button>
            <div class="nav-dropdown">
              <a href="event-aanmelden.html" class="nav-dropdown-link">Event aanmelden</a>
              <a href="events.html" class="nav-dropdown-link">Alle sportieve events</a>
              <a href="events.html?type=Tornooi" class="nav-dropdown-link">Tornooien</a>
              <a href="events.html?type=Vriendschappelijk" class="nav-dropdown-link">Vriendschappelijke wedstrijden</a>
              <a href="stages.html" class="nav-dropdown-link">Stages</a>
              <a href="events.html?type=Voetbalkamp" class="nav-dropdown-link">Voetbalkampen</a>
              <a href="events.html" class="nav-dropdown-link">Andere sportieve events</a>
            </div>
          </div>

          <!-- CLUB & FUN -->
          <div class="nav-item nav-item--dropdown">
            <button type="button" class="nav-link nav-link--dropdown">
              Club &amp; fun <span class="nav-link-caret">▾</span>
            </button>
            <div class="nav-dropdown">
              <a href="event-aanmelden.html" class="nav-dropdown-link">Event aanmelden</a>
              <a href="algemene-events.html" class="nav-dropdown-link">Alle club &amp; fun events</a>
              <a href="dinners.html" class="nav-dropdown-link">Dinners &amp; eetdagen</a>
              <a href="algemene-events.html?type=Spelavond" class="nav-dropdown-link">Spelavonden &amp; acties</a>
              <a href="algemene-events.html?type=Fuif" class="nav-dropdown-link">Fuif / afterparty</a>
              <a href="algemene-events.html?type=Sponsor" class="nav-dropdown-link">Sponsor &amp; netwerk</a>
              <a href="algemene-events.html" class="nav-dropdown-link">Andere clubevents</a>
            </div>
          </div>

          <!-- VACATURES & PROFIELEN -->
          <div class="nav-item nav-item--dropdown">
            <button type="button" class="nav-link nav-link--dropdown">
              Vacatures &amp; profielen <span class="nav-link-caret">▾</span>
            </button>
            <div class="nav-dropdown">
              <a href="aanmelden.html" class="nav-dropdown-link">Profiel / vacature aanmelden</a>
              <a href="clubvacatures.html" class="nav-dropdown-link">Clubvacatures</a>
              <a href="trainers.html" class="nav-dropdown-link">Trainers</a>
              <a href="spelers.html" class="nav-dropdown-link">Spelers</a>
            </div>
          </div>

          <!-- SPORTIEF -->
          <div class="nav-item nav-item--dropdown">
            <button type="button" class="nav-link nav-link--dropdown">
              Sportief <span class="nav-link-caret">▾</span>
            </button>
            <div class="nav-dropdown">
              <a href="sportief-spelers.html" class="nav-dropdown-link">Spelersstatistieken</a>
              <a href="sportief-teams.html" class="nav-dropdown-link">Teamstatistieken</a>
              <a href="sportief-resultaten.html" class="nav-dropdown-link">Resultaten</a>
              <a href="sportief-rangschikkingen.html" class="nav-dropdown-link">Rangschikkingen</a>
              <a href="sportief-teams-in-de-kijker.html" class="nav-dropdown-link">Team/Medewerker in de kijker</a>
              <a href="sportief-supportersclubs.html" class="nav-dropdown-link">Supportersclubs</a>
            </div>
          </div>

          <!-- VOETBAL4ALL -->
          <div class="nav-item nav-item--dropdown">
            <button type="button" class="nav-link nav-link--dropdown">
              Voetbal4All <span class="nav-link-caret">▾</span>
            </button>
            <div class="nav-dropdown">
              <a href="gebruiksvoorwaarden.html" class="nav-dropdown-link">Gebruiksvoorwaarden</a>
              <a href="privacyverklaring.html" class="nav-dropdown-link">Privacyverklaring</a>
              <a href="contact.html" class="nav-dropdown-link">Contact</a>
            </div>
          </div>
        </nav>

        <a href="adverteren.html" class="nav-cta">
          <span>Adverteer nu</span>
          <span>Sponsor &amp; Ads</span>
        </a>

        <button class="nav-burger" aria-label="Menu">☰</button>
      </div>
    </div>
  </header>

  <!-- ================= LIVE BANNER ================= -->
  <section class="live-banner-top">
    <div class="shell">
      <div class="live-banner">
        <div class="live-label"><span class="live-dot"></span>Live resultaten</div>
        <div class="live-text">
          <span class="live-text-main"></span>
          <div class="live-updated"></div>
        </div>
        <div class="live-socials" aria-label="Volg Voetbal4All op social media">
          <div class="live-socials-label">Volg ons</div>
          <div class="live-socials-icons"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- ================= HEADER AD ================= -->
  <section class="section-main" style="padding:10px 0;">
    <div class="shell">
      <div class="ad-slot ad-slot-header">
        <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-4062633211824348"
          data-ad-slot="3518144343"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
      </div>
    </div>
  </section>

  <!-- ================= CONTENT ================= -->
  <main>
    <section class="section-main">
      <div class="shell">

        <article class="card" style="margin-bottom:12px;">
          <div class="card-header">
            <div>
              <div class="card-caption">Aanmelden</div>
              <div class="card-title">Event aanmelden</div>
            </div>
            <span class="pill-small">Sportief · Club &amp; fun</span>
          </div>
          <p class="note" style="margin-bottom:10px;">
            Meld jouw tornooi, stage, kamp, eetdag, fuif of actie aan via het formulier hieronder.
            Je aanvraag wordt rechtstreeks verzonden naar <strong>voetbal4all@outlook.com</strong>.
            Je kan je flyer/affiche meteen toevoegen via het formulier.
          </p>
          <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;">
            <a class="btn-ghost-sm" href="#form">Naar formulier</a>
            <a class="btn-ghost-sm" href="events.html">Bekijk sportieve events</a>
            <a class="btn-ghost-sm" href="algemene-events.html">Bekijk club &amp; fun</a>
          </div>
        </article>

        <div class="v4-layout-sidebar">
          <div class="v4-content">

            <div class="card" id="form">
              <div class="card-header">
                <div>
                  <div class="card-caption">Formulier</div>
                  <div class="card-title">Eventgegevens</div>
                </div>
                <span class="pill-small">Verplicht: *</span>
              </div>

              <form id="eventSubmitForm" class="v4-form" novalidate>
                <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;">

                  <label style="display:block;">
                    <div class="card-caption" style="margin-bottom:6px;">Categorie *</div>
                    <select id="evCategory" required style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;">
                      <option value="" selected disabled>Kies categorie…</option>
                      <option value="Sportief">Sportief</option>
                      <option value="Club & fun">Club &amp; fun</option>
                    </select>
                  </label>

                  <label style="display:block;">
                    <div class="card-caption" style="margin-bottom:6px;">Land *</div>
                    <select id="evCountry" required style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;">
                      <option value="" selected disabled>Kies land…</option>
                      <option value="BE">België</option>
                      <option value="NL">Nederland</option>
                      <option value="INT">Internationaal</option>
                    </select>
                  </label>
                  <label id="evProvinceWrap" style="display:block;">
                    <div class="card-caption" style="margin-bottom:6px;">Provincie *</div>
                    <select id="evProvince" required style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;">
                      <option value="" selected disabled>Kies provincie…</option>
                    </select>
                  </label>

                  <label style="display:block;">
                    <div class="card-caption" style="margin-bottom:6px;">Eventtype *</div>
                    <select id="evType" required style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;">
                      <option value="" selected disabled>Kies type…</option>
                      <option data-cat="Sportief">Sportief · Tornooi</option>
                      <option data-cat="Sportief">Sportief · Vriendschappelijke wedstrijd</option>
                      <option data-cat="Sportief">Sportief · Stage</option>
                      <option data-cat="Sportief">Sportief · Voetbalkamp</option>
                      <option data-cat="Club & fun">Club &amp; fun · Dinner / eetdag</option>
                      <option data-cat="Club & fun">Club &amp; fun · Spelavond / actie</option>
                      <option data-cat="Club & fun">Club &amp; fun · Fuif / afterparty</option>
                      <option data-cat="Club & fun">Club &amp; fun · Sponsor &amp; netwerk</option>
                      <option data-cat="*">Andere</option>
                    </select>
                  </label>

                  <label style="display:block;">
                    <div class="card-caption" style="margin-bottom:6px;">Titel event *</div>
                    <input id="evTitle" type="text" required placeholder="Bijv. Jeugdtornooi U13" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;" />
                  </label>

                  <label style="display:block;">
                    <div class="card-caption" style="margin-bottom:6px;">Startdatum *</div>
                    <input id="evStartDate" type="date" required style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;" />
                  </label>

                  <label style="display:block;">
                    <div class="card-caption" style="margin-bottom:6px;">Einddatum (optioneel)</div>
                    <input id="evEndDate" type="date" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;" />
                  </label>

                  <label style="display:block;">
                    <div class="card-caption" style="margin-bottom:6px;">Startuur</div>
                    <input id="evTime" type="time" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;" />
                  </label>

                  <label style="display:block;">
                    <div class="card-caption" style="margin-bottom:6px;">Club/Organisatie *</div>
                    <input id="evOrg" type="text" required placeholder="Bijv. KFC Voorbeeld" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;" />
                  </label>

                  <label style="display:block;">
                    <div class="card-caption" style="margin-bottom:6px;">Contact e-mail *</div>
                    <input id="evEmail" type="email" required placeholder="jouw@email.be" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;" />
                  </label>

                  <label style="display:block;">
                    <div class="card-caption" style="margin-bottom:6px;">Telefoon</div>
                    <input id="evPhone" type="tel" placeholder="Optioneel" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;" />
                  </label>

                  <label style="display:block;">
                    <div class="card-caption" style="margin-bottom:6px;">Website/inschrijvingslink</div>
                    <input id="evUrl" type="url" placeholder="https://…" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;" />
                  </label>

                </div>

                <label style="display:block;margin-top:10px;">
                  <div class="card-caption" style="margin-bottom:6px;">Flyer / affiche (optioneel)</div>
                  <input id="evFlyer" type="file" accept="image/*,application/pdf" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;" />
                  <div class="note" style="margin-top:6px;opacity:.85;">
                    Voeg hier je flyer/affiche toe. Bij verzending wordt de flyer mee verstuurd met je aanvraag.
                  </div>
                </label>

                <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;margin-top:10px;">
                  <label style="display:block;">
                    <div class="card-caption" style="margin-bottom:6px;">Stad *</div>
                    <input id="evCity" type="text" required placeholder="Bijv. Geel" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;" />
                  </label>

                  <label style="display:block;">
                    <div class="card-caption" style="margin-bottom:6px;">Adres / complex / locatie *</div>
                    <input id="evLocation" type="text" required placeholder="Sportpark, adres, complex…" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;" />
                  </label>
                </div>

                <label style="display:block;margin-top:10px;">
                  <div class="card-caption" style="margin-bottom:6px;">Omschrijving *</div>
                  <textarea id="evDesc" required rows="5" placeholder="Korte, duidelijke uitleg: doelpubliek, niveau, prijs, inschrijven, planning…" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;resize:vertical;"></textarea>
                </label>

                <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:10px;">
                  <label style="display:flex;gap:8px;align-items:center;">
                    <input id="evPremium" type="checkbox" />
                    <span class="note"><strong>Dit event verdient Premium zichtbaarheid.</strong></span>
                  </label>
                </div>

                <div id="premiumOptions" style="display:none;margin-top:10px;">
                  <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;">
                    <label style="display:block;">
                      <div class="card-caption" style="margin-bottom:6px;">Premium-duur *</div>
                      <select id="evPremiumDuration" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;">
                        <option value="" selected disabled>Kies duur…</option>
                        <optgroup label="Weken (14,99 €/week)">
                          <option value="w1">1 week — 14,99€</option>
                          <option value="w2">2 weken — 29,98€</option>
                          <option value="w3">3 weken — 44,97€</option>
                        </optgroup>
                        <optgroup label="Maanden (1–3: 49,99 €/maand)">
                          <option value="m1">1 maand — 49,99€</option>
                          <option value="m2">2 maanden — 99,98€</option>
                          <option value="m3">3 maanden — 149,97€</option>
                        </optgroup>
                        <optgroup label="Maanden (4–5: 44,99 €/maand)">
                          <option value="m4">4 maanden — 179,96€</option>
                          <option value="m5">5 maanden — 224,95€</option>
                        </optgroup>
                        <optgroup label="6 maanden (vaste prijs)">
                          <option value="m6">6 maanden — 249,99€ (≈ 41,67€/maand)</option>
                        </optgroup>
                      </select>
                      <div class="note" style="margin-top:6px;opacity:.85;">
                        De gekozen Premium-periode start teruggeteld vanaf de startdatum van het event.
                      </div>
                    </label>

                    <article class="card" style="padding:12px;border:1px solid rgba(255,255,255,.10);background:rgba(11,16,32,.35);">
                      <div class="card-caption" style="margin-bottom:6px;">Prijzen (transparant)</div>
                      <ul class="note" style="margin:0;padding-left:18px;line-height:1.6;">
                        <li>1–3 weken: <strong>14,99€ / week</strong></li>
                        <li>1–3 maanden: <strong>49,99€ / maand</strong></li>
                        <li>4–5 maanden: <strong>44,99€ / maand</strong></li>
                        <li>6 maanden: <strong>249,99€</strong> (≈ 41,67€ / maand)</li>
                      </ul>
                    </article>
                  </div>

                  <div id="premiumSummary" style="margin-top:10px;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,.10);background:rgba(11,16,32,.35);">
                    <div style="display:flex;justify-content:space-between;gap:10px;align-items:center;">
                      <span class="note" style="opacity:.9;">Totaalprijs premium</span>
                      <strong id="premiumTotalText">€ 0,00</strong>
                    </div>
                    <div id="premiumBreakdownText" class="note" style="margin-top:6px;opacity:.85;"></div>
                  </div>

                  <div id="premiumNudge" style="display:none;margin-top:10px;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.25);">
                    <div style="font-weight:700;margin-bottom:6px;">Ben je zeker?</div>
                    <div id="premiumNudgeText" class="note" style="opacity:.9;margin-bottom:10px;"></div>
                    <button type="button" id="premiumNudgeBtn" class="btn-ghost-sm" style="color:#fff;">Kies 6 maanden</button>
                  </div>

                  <div id="invoiceFields" style="margin-top:10px;">
                    <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;">
                      <label style="display:block;">
                        <div class="card-caption" style="margin-bottom:6px;">Factuur op naam van *</div>
                        <input id="invName" type="text" placeholder="Club / organisatie / naam" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;" />
                      </label>

                      <label style="display:block;">
                        <div class="card-caption" style="margin-bottom:6px;">BTW-nummer</div>
                        <input id="invVat" type="text" placeholder="Bijv. BE0123.456.789" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;" />
                      </label>

                      <label style="display:block;">
                        <div class="card-caption" style="margin-bottom:6px;">Factuuradres *</div>
                        <input id="invAddress" type="text" placeholder="Straat + nummer" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;" />
                      </label>

                      <label style="display:block;">
                        <div class="card-caption" style="margin-bottom:6px;">Postcode + gemeente *</div>
                        <input id="invCity" type="text" placeholder="Bijv. 2440 Geel" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;" />
                      </label>

                      <label style="display:block;">
                        <div class="card-caption" style="margin-bottom:6px;">Facturatie e-mail *</div>
                        <input id="invEmail" type="email" placeholder="facturatie@…" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;" />
                      </label>

                      <label style="display:block;">
                        <div class="card-caption" style="margin-bottom:6px;">Referentie / PO (optioneel)</div>
                        <input id="invRef" type="text" placeholder="Bijv. interne referentie" style="width:100%;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(11,16,32,.55);color:inherit;" />
                      </label>
                    </div>
                  </div>
                </div>

                <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:12px;">
                  <button type="submit" class="btn-ghost-sm" style="color:#fff;">Verstuur aanvraag</button>
                  <span id="eventSubmitHint" class="note" style="opacity:.85;"></span>
                </div>
              </form>
            </div>

          </div>

          <aside class="v4-sidebar">
            <div class="v4-sidebar-sticky">


              <div class="ad-vertical v4-ad-sticky" style="margin-top:12px;">
                <ins class="adsbygoogle"
                  style="display:block"
                  data-ad-client="ca-pub-4062633211824348"
                  data-ad-slot="6032627042"
                  data-ad-format="auto"
                  data-full-width-responsive="true"></ins>
                <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
              </div>

              <article class="card" style="margin-top:12px;">
                <div class="card-header">
                  <div>
                    <div class="card-caption">Premium zichtbaarheid</div>
                    <div class="card-title">Wat krijg je?</div>
                  </div>
                  <span class="pill-small">Premium</span>
                </div>
                <ul class="note" style="margin:0;padding-left:18px;">
                  <li><strong>Vaste premiumblok</strong> op de relevante eventpagina’s (meer zichtbaarheid bij bezoekers).</li>
                  <li><strong>Extra promotie</strong> via de Voetbal4All social kanalen (afhankelijk van planning en capaciteit).</li>
                  <li><strong>Vermelding in nieuwsbrieven</strong> wanneer jouw event binnen de selectie-criteria valt.</li>
                  <li><strong>Voorrang</strong> in rotatie t.o.v. standaard events binnen dezelfde categorie.</li>
                </ul>
                <p class="note" style="margin-top:10px;opacity:.9;">
                  Na aanvraag nemen we contact op om de plaatsing te bevestigen en de planning af te stemmen.
                </p>
              </article>

            </div>
          </aside>

        </div>
      </div>
    </section>
  </main>

  <!-- ================= FOOTER ================= -->
  <footer class="footer" id="footer-contact">
    <div class="shell">
      <div class="footer-grid">
        <div class="footer-brand">
          <div>Voetbal4All · voor spelers, ouders, trainers en clubs.</div>
          <div class="footer-legal">
            &copy; <span id="year"></span> Voetbal4All. Alle rechten voorbehouden.
          </div>
          <div class="footer-social">
            <a href="https://www.facebook.com/voetbal4all" target="_blank" rel="noopener noreferrer" class="footer-social-link">Facebook</a>
            <a href="https://www.instagram.com/voetbal.4.all/" target="_blank" rel="noopener noreferrer" class="footer-social-link">Instagram</a>
            <a href="https://www.tiktok.com/@voetbal4all.eu" target="_blank" rel="noopener noreferrer" class="footer-social-link">TikTok</a>
          </div>
        </div>
        <div class="footer-ad">
          FOOTER ADVERTENTIE / PARTNERLOGO<br>
          <span class="ad-size">Footer-banner met zichtbaarheid voor terugkerende bezoekers.</span>
        </div>
      </div>
    </div>
  </footer>

</div>

<script>
  document.getElementById("year").textContent = new Date().getFullYear();

  (function () {
    const form = document.getElementById('eventSubmitForm');
    if (!form) return;

    const hint = document.getElementById('eventSubmitHint');

    // Premium toggle UI logic
    const premiumToggle = document.getElementById('evPremium');
    const premiumOptions = document.getElementById('premiumOptions');

    function syncPremiumUI() {
      const on = !!premiumToggle?.checked;
      if (premiumOptions) premiumOptions.style.display = on ? '' : 'none';
    }

    if (premiumToggle) {
      premiumToggle.addEventListener('change', syncPremiumUI);
      syncPremiumUI();
    }

    function v(id) {
      const el = document.getElementById(id);
      return el ? (el.value || '').trim() : '';
    }

    // Category -> Type filtering
    const categoryEl = document.getElementById('evCategory');
    const typeEl = document.getElementById('evType');

    function syncTypeOptions() {
      if (!typeEl) return;
      const cat = (categoryEl?.value || '').trim();
      const current = (typeEl.value || '').trim();
      let keepCurrent = false;

      Array.from(typeEl.options).forEach((opt) => {
        const val = (opt.value || '').trim();
        const optCat = opt.getAttribute('data-cat');
        if (!optCat || val === '') {
          opt.hidden = false;
          return;
        }
        if (optCat === '*' || optCat === cat) {
          opt.hidden = false;
          if (val === current) keepCurrent = true;
        } else {
          opt.hidden = true;
        }
      });

      if (!keepCurrent && current) typeEl.value = '';
    }

    if (categoryEl && typeEl) {
      categoryEl.addEventListener('change', syncTypeOptions);
      syncTypeOptions();
    }

    // Start date -> End date min + start-month alignment (best-effort)
    const startDateEl = document.getElementById('evStartDate');
    const endDateEl = document.getElementById('evEndDate');

    function syncEndDateConstraints() {
      if (!startDateEl || !endDateEl) return;
      const s = (startDateEl.value || '').trim();
      if (!s) {
        endDateEl.min = '';
        return;
      }
      endDateEl.min = s;
      if (!endDateEl.value) endDateEl.value = s;
      if (endDateEl.value && endDateEl.value < s) endDateEl.value = '';
    }

    if (startDateEl && endDateEl) {
      startDateEl.addEventListener('change', syncEndDateConstraints);
      endDateEl.addEventListener('focus', syncEndDateConstraints);
      syncEndDateConstraints();
    }

    // Country -> Province (BE/NL), hide for INT
    const countryEl = document.getElementById('evCountry');
    const provinceWrapEl = document.getElementById('evProvinceWrap');
    const provinceEl = document.getElementById('evProvince');

    const PROVINCES_BE = [
      'Antwerpen',
      'Vlaams-Brabant',
      'Waals-Brabant',
      'Brussels Hoofdstedelijk Gewest',
      'West-Vlaanderen',
      'Oost-Vlaanderen',
      'Limburg',
      'Henegouwen',
      'Luik',
      'Luxemburg',
      'Namen'
    ];

    const PROVINCES_NL = [
      'Drenthe',
      'Flevoland',
      'Friesland',
      'Gelderland',
      'Groningen',
      'Limburg',
      'Noord-Brabant',
      'Noord-Holland',
      'Overijssel',
      'Utrecht',
      'Zeeland',
      'Zuid-Holland'
    ];

    function fillProvinceOptions(list) {
      if (!provinceEl) return;
      const current = (provinceEl.value || '').trim();
      provinceEl.innerHTML = '<option value="" selected disabled>Kies provincie…</option>';
      list.forEach((p) => {
        const opt = document.createElement('option');
        opt.value = p;
        opt.textContent = p;
        provinceEl.appendChild(opt);
      });
      if (current && list.includes(current)) provinceEl.value = current;
    }

    function syncProvinceUI() {
      if (!countryEl || !provinceWrapEl || !provinceEl) return;
      const c = (countryEl.value || '').trim();

      if (c === 'BE') {
        provinceWrapEl.style.display = '';
        provinceEl.required = true;
        fillProvinceOptions(PROVINCES_BE);
      } else if (c === 'NL') {
        provinceWrapEl.style.display = '';
        provinceEl.required = true;
        fillProvinceOptions(PROVINCES_NL);
      } else {
        provinceWrapEl.style.display = 'none';
        provinceEl.required = false;
        provinceEl.value = '';
        provinceEl.innerHTML = '<option value="" selected disabled>Kies provincie…</option>';
      }
    }

    if (countryEl) {
      countryEl.addEventListener('change', syncProvinceUI);
      syncProvinceUI();
    }

    // Premium duration pricing (launch pricing)
    const PRICING = {
      week: 14.99,
      month_1_3: 49.99,
      month_4_5: 44.99,
      month_6_total: 249.99,
    };

    function eur(n) {
      const x = Number(n) || 0;
      return '€ ' + x.toFixed(2).replace('.', ',');
    }

    function calcPremium(sel) {
      if (!sel) return { total: 0, effective: 0, unit: '', units: 0, label: '' };

      if (sel.startsWith('w')) {
        const weeks = parseInt(sel.slice(1), 10) || 0;
        const total = weeks * PRICING.week;
        return {
          total,
          effective: PRICING.week,
          unit: 'week',
          units: weeks,
          label: `${weeks} week${weeks === 1 ? '' : 'en'} (14,99€/week)`,
        };
      }

      const months = parseInt(sel.slice(1), 10) || 0;
      if (months === 6) {
        const total = PRICING.month_6_total;
        return {
          total,
          effective: total / 6,
          unit: 'maand',
          units: 6,
          label: `6 maanden (vaste prijs ${eur(total)}; ≈ ${eur(total / 6)}/maand)`,
        };
      }

      const rate = months <= 3 ? PRICING.month_1_3 : PRICING.month_4_5;
      const total = months * rate;
      return {
        total,
        effective: rate,
        unit: 'maand',
        units: months,
        label: `${months} maanden (${eur(rate)}/maand)`,
      };
    }

    const premiumEnabled = !!document.getElementById('evPremium')?.checked;
    const premiumDuration = v('evPremiumDuration');
    const premiumCalc = calcPremium(premiumDuration);
    const premiumPlan = premiumDuration; // keep a compact code
    const premiumPrice = premiumCalc.total ? String(premiumCalc.total.toFixed(2)) : '';
    const premiumPlanLabel = premiumCalc.label;

    // Premium duration UI: summary + "ben je zeker?" nudge
    const premiumDurationEl = document.getElementById('evPremiumDuration');
    const premiumTotalTextEl = document.getElementById('premiumTotalText');
    const premiumBreakdownTextEl = document.getElementById('premiumBreakdownText');
    const premiumNudgeEl = document.getElementById('premiumNudge');
    const premiumNudgeTextEl = document.getElementById('premiumNudgeText');
    const premiumNudgeBtnEl = document.getElementById('premiumNudgeBtn');

    function updatePremiumPricingUI() {
      if (!premiumDurationEl || !premiumTotalTextEl || !premiumBreakdownTextEl) return;

      const sel = (premiumDurationEl.value || '').trim();
      const r = (function (s) {
        const PRICING = { week: 14.99, month_1_3: 49.99, month_4_5: 44.99, month_6_total: 249.99 };
        const eur = (n) => '€ ' + (Number(n) || 0).toFixed(2).replace('.', ',');

        if (!s) return { total: 0, effective: 0, unit: '', units: 0 };
        if (s.startsWith('w')) {
          const weeks = parseInt(s.slice(1), 10) || 0;
          const total = weeks * PRICING.week;
          return { total, effective: PRICING.week, unit: 'week', units: weeks };
        }
        const months = parseInt(s.slice(1), 10) || 0;
        if (months === 6) {
          const total = PRICING.month_6_total;
          return { total, effective: total / 6, unit: 'maand', units: 6 };
        }
        const rate = months <= 3 ? PRICING.month_1_3 : PRICING.month_4_5;
        const total = months * rate;
        return { total, effective: rate, unit: 'maand', units: months };
      })(sel);

      const eur = (n) => '€ ' + (Number(n) || 0).toFixed(2).replace('.', ',');

      premiumTotalTextEl.textContent = eur(r.total);
      if (r.unit === 'week') {
        premiumBreakdownTextEl.textContent = `${r.units} week${r.units === 1 ? '' : 'en'} × ${eur(r.effective)} / week`;
      } else if (r.units === 6) {
        premiumBreakdownTextEl.textContent = `Vaste prijs ${eur(r.total)} (≈ ${eur(r.effective)} / maand)`;
      } else {
        premiumBreakdownTextEl.textContent = `${r.units} maanden × ${eur(r.effective)} / maand`;
      }

      // Nudge when selecting 4 or 5 months: 6 months is cheaper per month
      if (premiumNudgeEl && premiumNudgeTextEl) {
        const sixEffective = 249.99 / 6;
        const show = (sel === 'm4' || sel === 'm5');
        if (show) {
          const diff = 44.99 - sixEffective;
          premiumNudgeEl.style.display = 'block';
          premiumNudgeTextEl.textContent = `Voor ${sel === 'm4' ? '4' : '5'} maanden betaal je 44,99€/maand. Met 6 maanden betaal je ≈ 41,67€/maand (≈ ${eur(diff)} goedkoper per maand). Let op: de totaalprijs is wel hoger.`;
        } else {
          premiumNudgeEl.style.display = 'none';
        }
      }
    }

    if (premiumDurationEl) {
      premiumDurationEl.addEventListener('change', updatePremiumPricingUI);
    }
    if (premiumNudgeBtnEl && premiumDurationEl) {
      premiumNudgeBtnEl.addEventListener('click', function () {
        premiumDurationEl.value = 'm6';
        updatePremiumPricingUI();
      });
    }

    // Initial render
    updatePremiumPricingUI();

    form.addEventListener('submit', async function (e) {
      e.preventDefault();

      const required = ['evCategory','evCountry','evType','evTitle','evStartDate','evOrg','evEmail','evCity','evLocation','evDesc'];
      for (const id of required) {
        const el = document.getElementById(id);
        const val = el ? (el.value || '').trim() : '';
        if (!val) {
          if (hint) hint.textContent = 'Vul alle verplichte velden (*) in.';
          try { el && el.focus(); } catch (_) {}
          return;
        }
      }

      // Premium validation (only if enabled)
      const premiumEnabledNow = !!document.getElementById('evPremium')?.checked;
      if (premiumEnabledNow) {
        const planVal = v('evPremiumDuration');
        if (!planVal) {
          if (hint) hint.textContent = 'Kies een Premium-periode.';
          try { document.getElementById('evPremiumDuration')?.focus(); } catch (_) {}
          return;
        }
        const invReq = ['invName','invAddress','invCity','invEmail'];
        for (const id of invReq) {
          const el = document.getElementById(id);
          const val = el ? (el.value || '').trim() : '';
          if (!val) {
            if (hint) hint.textContent = 'Vul de factuurgegevens volledig in.';
            try { el && el.focus(); } catch (_) {}
            return;
          }
        }
      }

      const category = v('evCategory');
      const country = v('evCountry');
      const province = v('evProvince');
      const type = v('evType');
      const title = v('evTitle');
      const startDate = v('evStartDate');
      const endDate = v('evEndDate');
      const time = v('evTime');
      const org = v('evOrg');
      const email = v('evEmail');
      const phone = v('evPhone');
      const url = v('evUrl');
      const city = v('evCity');
      const location = v('evLocation');
      const desc = v('evDesc');

      if ((country === 'BE' || country === 'NL') && !province) {
        if (hint) hint.textContent = 'Kies een provincie.';
        try { document.getElementById('evProvince')?.focus(); } catch (_) {}
        return;
      }

      const premiumEnabled = !!document.getElementById('evPremium')?.checked;
      // Premium duration pricing (already computed above)
      const premiumDuration = v('evPremiumDuration');
      const premiumCalc = calcPremium(premiumDuration);
      const premiumPlan = premiumDuration;
      const premiumPrice = premiumCalc.total ? String(premiumCalc.total.toFixed(2)) : '';
      const premiumPlanLabel = premiumCalc.label;

      // Invoice fields
      const invName = v('invName');
      const invVat = v('invVat');
      const invAddress = v('invAddress');
      const invCity = v('invCity');
      const invEmail = v('invEmail');
      const invRef = v('invRef');

      if (endDate && startDate && endDate < startDate) {
        if (hint) hint.textContent = 'Einddatum kan niet vóór startdatum liggen.';
        try { document.getElementById('evEndDate')?.focus(); } catch (_) {}
        return;
      }

      const dateLabel = endDate && endDate !== startDate ? `${startDate} t/m ${endDate}` : startDate;
      const flyerName = document.getElementById('evFlyer')?.files?.[0]?.name || '—';

      const subject = `[Event aanmelden] ${title}`;
      const bodyLines = [
        'EVENT AANMELDING — VOETBAL4ALL',
        '',
        `Categorie: ${category}`,
        `Type: ${type}`,
        `Titel: ${title}`,
        `Land: ${country}`,
        `Provincie: ${country === 'INT' ? '—' : (province || '—')}`,
        `Datum: ${dateLabel}`,
        `Startuur: ${time || '—'}`,
        `Stad: ${city}`,
        `Adres/complex: ${location}`,
        '',
        `Organisatie/Club: ${org}`,
        `Contact e-mail: ${email}`,
        `Telefoon: ${phone || '—'}`,
        `Website/inschrijvingslink: ${url || '—'}`,
        `Flyer/affiche: ${flyerName}`,
        `Premium: ${premiumEnabled ? 'Ja' : 'Nee'}`,
        ...(premiumEnabled ? [
          `Premium-duur: ${premiumPlanLabel}`,
          `Premium-totaal: ${eur(Number(premiumPrice))}`,
          'De gekozen Premium-periode start teruggeteld vanaf de startdatum van het event.',
          '',
          'FACTUURGEGEVENS',
          `Factuur op naam van: ${invName}`,
          `BTW-nummer: ${invVat || '—'}`,
          `Adres: ${invAddress}`,
          `Postcode/gemeente: ${invCity}`,
          `Facturatie e-mail: ${invEmail}`,
          `Referentie/PO: ${invRef || '—'}`
        ] : []),
        '',
        'Omschrijving:',
        desc,
        '',
        'Opmerking: indien je een flyer selecteert, wordt die mee verstuurd via het formulier.'
      ];

      const flyerFile = document.getElementById('evFlyer')?.files?.[0] || null;

      // Always submit via HTTP (with or without flyer). This prevents opening a mail client.
      const SUBMIT_ENDPOINT = 'https://voetbal4all-backend-database.onrender.com/api/forms/event-submission';
      const CHECKOUT_ENDPOINT = 'https://voetbal4all-backend-database.onrender.com/api/payments/stripe/checkout';
      const THANKYOU_URL = 'bedankt.html';
      const fd = new FormData();
      if (flyerFile) fd.append('flyer', flyerFile);
      fd.append('subject', subject);
      fd.append('body', bodyLines.join('\n'));
      fd.append('category', category);
      fd.append('country', country);
      fd.append('province', country === 'INT' ? '' : (province || ''));
      fd.append('type', type);
      fd.append('title', title);
      fd.append('startDate', startDate);
      fd.append('endDate', endDate || '');
      fd.append('time', time || '');
      fd.append('org', org);
      fd.append('email', email);
      fd.append('phone', phone || '');
      fd.append('url', url || '');
      fd.append('city', city);
      fd.append('location', location);
      fd.append('desc', desc);
      fd.append('premiumEnabled', premiumEnabled ? 'true' : 'false');
      fd.append('premiumPlan', premiumPlan || '');
      fd.append('premiumPlanLabel', premiumPlanLabel || '');
      fd.append('premiumTotalEur', premiumPrice || '');
      fd.append('premiumEffectiveEur', premiumCalc && premiumCalc.effective ? String(premiumCalc.effective.toFixed(2)) : '');
      fd.append('invName', invName || '');
      fd.append('invVat', invVat || '');
      fd.append('invAddress', invAddress || '');
      fd.append('invCity', invCity || '');
      fd.append('invEmail', invEmail || '');
      fd.append('invRef', invRef || '');

      if (hint) hint.textContent = 'Aanvraag wordt verstuurd…';

      try {
        const res = await fetch(SUBMIT_ENDPOINT, { method: 'POST', body: fd });
        let json = null;
        try { json = await res.json(); } catch (_) {}

        if (!res.ok || (json && json.ok === false)) {
          const msg = (json && (json.error || json.message)) ? (json.error || json.message) : `HTTP ${res.status}`;
          throw new Error(msg);
        }

        const sid = (json && (json.id || json.submissionId)) ? String(json.id || json.submissionId) : '';
        if (!sid) throw new Error('Geen submission ID ontvangen');

        // Premium: first send user to Stripe Checkout, then Stripe returns to bedankt.html (success_url)
        if (premiumEnabled) {
          if (hint) hint.textContent = 'Doorsturen naar veilige betaling…';

          const checkoutPayload = {
            event_id: sid,
            price_eur: Number(premiumPrice),
            // optional metadata for later use
            premium_plan: premiumPlan,
            premium_plan_label: premiumPlanLabel,
            premium_effective_eur: premiumCalc && premiumCalc.effective ? Number(premiumCalc.effective.toFixed(2)) : null,
            title,
            invoice: {
              name: invName,
              vat: invVat,
              address: invAddress,
              city: invCity,
              email: invEmail,
              ref: invRef,
              submission_id: sid,
            },
          };

          if (!Number.isFinite(checkoutPayload.price_eur) || checkoutPayload.price_eur <= 0) {
            throw new Error('Ongeldige premiumprijs. Kies een periode.');
          }

          const cr = await fetch(CHECKOUT_ENDPOINT, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(checkoutPayload)
          });

          let cj = null;
          try { cj = await cr.json(); } catch (_) {}

          if (!cr.ok || (cj && cj.ok === false)) {
            const msg = (cj && (cj.error || cj.message)) ? (cj.error || cj.message) : `HTTP ${cr.status}`;
            throw new Error(msg);
          }

          const url = (cj && (cj.url || cj.checkoutUrl || cj.sessionUrl)) ? String(cj.url || cj.checkoutUrl || cj.sessionUrl) : '';
          if (!url) throw new Error('Geen Stripe Checkout URL ontvangen');

          window.location.href = url;
          return;
        }

        // Non-premium: go straight to thank you page with traceable ID
        window.location.href = `${THANKYOU_URL}?sid=${encodeURIComponent(sid)}`;
        return;
      } catch (err) {
        if (hint) hint.textContent = 'Verzenden is momenteel niet beschikbaar. Probeer later opnieuw of neem contact op via de contactpagina.';
        return;
      }
    });
  })();
</script>

<script src="assets/js/nav-mobile.js"></script>
<script src="assets/js/live-banner.js"></script>
</body>
</html>