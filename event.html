<!DOCTYPE html>
<html lang="nl">
<head>
  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4062633211824348"
    crossorigin="anonymous"></script>

  <meta charset="UTF-8" />
  <title>Voetbal4All - Event</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Fonts + CSS -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap">
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Media gallery */
    .ev-media { margin-top:12px; }
    .ev-media-grid { display:flex; gap:10px; flex-wrap:wrap; }
    .ev-media-thumb {
      width:140px; height:98px; object-fit:cover; border-radius:10px;
      cursor:pointer; border:1px solid rgba(255,255,255,0.08);
    }

    /* Lightbox */
    .lightbox { position:fixed; inset:0; background:rgba(0,0,0,0.8); display:none; z-index:9999; }
    .lightbox.is-open { display:flex; align-items:center; justify-content:center; padding:20px; }
    .lightbox-inner { max-width:1100px; width:100%; }
    .lightbox-img { width:100%; height:auto; border-radius:12px; display:block; }
    .lightbox-actions { display:flex; justify-content:flex-end; margin-bottom:10px; }
    .lightbox-close {
      background:#16a34a; color:#fff; border:0; border-radius:10px; padding:10px 14px;
      cursor:pointer; font-weight:700;
    }

    /* Share icons: same visual style as live-score banner, but not managed by live-banner.js */
    .share-socials { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    .share-socials-label { font-weight:700; letter-spacing:.08em; text-transform:uppercase; opacity:.85; font-size:12px; }
    .share-socials-icons { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
  </style>
</head>

<body class="v4-hide-live-mobile">
  <div class="page">

    <!-- NAVBAR (zelfde structuur als events.html) -->
    <header class="navbar">
      <div class="shell">
        <div class="navbar-inner">

          <a href="index.html" class="brand brand--logo-only">
            <img
              src="assets/img/brand/logo-voetbal4all.svg"
              alt="Voetbal4All"
              class="brand-logo"
              loading="eager"
            />
          </a>

          <nav class="nav-links">
            <a href="index.html" class="nav-link">Home</a>
            <a href="artikels.html" class="nav-link">Artikels</a>

            <div class="nav-item nav-item--dropdown">
              <button class="nav-link nav-link--dropdown">
                Sportieve events <span class="nav-link-caret">‚ñæ</span>
              </button>
              <div class="nav-dropdown">
                <a href="events.html" class="nav-dropdown-link">Alle sportieve events</a>
                <a href="events.html?type=Tornooi" class="nav-dropdown-link">Tornooien</a>
                <a href="events.html?type=Vriendschappelijk" class="nav-dropdown-link">Vriendschappelijke wedstrijden</a>
                <a href="stages.html" class="nav-dropdown-link">Stages</a>
                <a href="events.html?type=Voetbalkamp" class="nav-dropdown-link">Voetbalkampen</a>
              </div>
            </div>

            <div class="nav-item nav-item--dropdown">
              <button class="nav-link nav-link--dropdown">
                Club &amp; fun <span class="nav-link-caret">‚ñæ</span>
              </button>
              <div class="nav-dropdown">
                <a href="algemene-events.html" class="nav-dropdown-link">Alle club &amp; fun events</a>
                <a href="dinners.html" class="nav-dropdown-link">Dinners &amp; eetdagen</a>
                <a href="algemene-events.html?type=Spelavond" class="nav-dropdown-link">Spelavonden &amp; acties</a>
                <a href="algemene-events.html?type=Fuif" class="nav-dropdown-link">Fuif / afterparty</a>
                <a href="algemene-events.html?type=Sponsor" class="nav-dropdown-link">Sponsor &amp; netwerk</a>
              </div>
            </div>

            <div class="nav-item nav-item--dropdown">
              <button type="button" class="nav-link nav-link--dropdown">
                Vacatures &amp; profielen <span class="nav-link-caret">‚ñæ</span>
              </button>
              <div class="nav-dropdown">
                <a href="clubvacatures.html" class="nav-dropdown-link">Clubvacatures</a>
                <a href="trainers.html" class="nav-dropdown-link">Trainers</a>
                <a href="spelers.html" class="nav-dropdown-link">Spelers</a>
              </div>
            </div>

            <div class="nav-item nav-item--dropdown">
              <button type="button" class="nav-link nav-link--dropdown">
                Sportief <span class="nav-link-caret">‚ñæ</span>
              </button>
              <div class="nav-dropdown">
                <a href="sportief-spelers.html" class="nav-dropdown-link">Spelersstatistieken</a>
                <a href="sportief-teams.html" class="nav-dropdown-link">Teamstatistieken</a>
                <a href="sportief-resultaten.html" class="nav-dropdown-link">Resultaten</a>
                <a href="sportief-rangschikkingen.html" class="nav-dropdown-link">Rangschikkingen</a>
                <a href="sportief-teams-in-de-kijker.html" class="nav-dropdown-link">Team/Medewerker in de kijker</a>
                <a href="sportief-supportersclubs.html" class="nav-dropdown-link">Supportersclubs</a>
              </div>
            </div>

            <div class="nav-item nav-item--dropdown">
              <button type="button" class="nav-link nav-link--dropdown">
                Voetbal4All <span class="nav-link-caret">‚ñæ</span>
              </button>
              <div class="nav-dropdown">
                <a href="gebruiksvoorwaarden.html" class="nav-dropdown-link">Gebruiksvoorwaarden</a>
                <a href="privacyverklaring.html" class="nav-dropdown-link">Privacyverklaring</a>
                <a href="contact.html" class="nav-dropdown-link">Contact</a>
              </div>
            </div>
          </nav>

          <a href="adverteren.html" class="nav-cta">
            <span>Adverteer nu</span>
            <span>Sponsor &amp; Ads</span>
          </a>

          <button class="nav-burger" aria-label="Menu">‚ò∞</button>
        </div>
      </div>
    </header>

    <!-- LIVE BANNER -->
    <section class="live-banner-top">
      <div class="shell">
        <div class="live-banner">
          <div class="live-label">
            <span class="live-dot"></span>
            Live resultaten
          </div>
          <div class="live-text">
            <span class="live-text-main"></span>
            <div class="live-updated"></div>
          </div>
          <div class="live-socials" aria-label="Volg Voetbal4All op social media">
            <div class="live-socials-label">Volg ons</div>
            <div class="live-socials-icons"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- AD: Top placement (responsive) -->
    <section class="section-main" style="padding-top:10px; padding-bottom:0;">
      <div class="shell">
        <div class="footer-ad" style="margin-bottom:12px;">
          <!-- Google AdSense unit (set your slot id) -->
          <ins class="adsbygoogle"
               style="display:block"
               data-ad-client="ca-pub-4062633211824348"
               data-ad-slot="REPLACE_WITH_SLOT_TOP"
               data-ad-format="auto"
               data-full-width-responsive="true"></ins>
          <script>
            try { (adsbygoogle = window.adsbygoogle || []).push({}); } catch(e) {}
          </script>
        </div>
      </div>
    </section>

    <main>
      <section class="section-main" style="padding-top:10px;">
        <div class="shell">

          <div class="card" style="margin-bottom:12px;">
            <div class="card-header">
              <div>
                <div class="card-caption">Event detail</div>
              </div>
              <span class="pill-small" id="ev-pill">Sportieve events</span>
            </div>

            <!-- Flyer / foto's (klik om te vergroten) ‚Äì bovenaan -->
            <div class="ev-media" id="ev-media" style="display:none; margin-top:12px;">
              <div class="note" style="margin:0 0 8px 0;">Flyer / foto's</div>
              <div class="ev-media-grid" id="ev-media-grid"></div>
            </div>

            <!-- Titel onder flyer -->
            <div class="card-title" id="ev-title" style="margin-top:10px;">Event</div>

            <!-- Meta in vaste structuur (kalender, vlag, regio, stad, club) -->
            <div class="note" id="ev-meta" style="margin-top:6px; display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
              <span style="display:inline-flex; align-items:center; gap:8px;">
                <span aria-hidden="true" style="display:inline-flex; width:28px; height:28px; align-items:center; justify-content:center; border-radius:999px; background:rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.10);">üìÖ</span>
                <span id="ev-date"></span>
              </span>
              <span id="ev-flag" aria-label="Land" title="Land"></span>
              <span id="ev-region" style="display:none;"></span>
              <span id="ev-city" style="display:none;"></span>
              <span id="ev-club" style="display:none;"></span>
            </div>

            <!-- AD: In-card placement (above content) -->
            <div class="footer-ad" style="margin-top:10px;">
              <ins class="adsbygoogle"
                   style="display:block"
                   data-ad-client="ca-pub-4062633211824348"
                   data-ad-slot="REPLACE_WITH_SLOT_INCARD_1"
                   data-ad-format="auto"
                   data-full-width-responsive="true"></ins>
              <script>
                try { (adsbygoogle = window.adsbygoogle || []).push({}); } catch(e) {}
              </script>
            </div>

            <div id="ev-premium" style="display:none; margin-top:10px;">
              <span class="pill-small">Premium</span>
            </div>

            <div class="ad-card-actions" style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
              <a href="events.html" class="btn-ghost-sm">‚Üê Terug naar events</a>

              <div class="share-socials" aria-label="Deel dit event" style="gap:10px; align-items:center;">
                <div class="share-socials-label" style="margin-right:2px;">Delen</div>
                <div class="share-socials-icons">
                  <a class="live-social-link" id="share-fb" href="#" target="_blank" rel="noopener noreferrer" aria-label="Deel op Facebook">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                      <path d="M14 9h3V6h-3c-1.7 0-3 1.3-3 3v2H8v3h3v7h3v-7h3l1-3h-4V9c0-.6.4-1 1-1z" />
                    </svg>
                  </a>

                  <a class="live-social-link" id="share-ig" href="#" aria-label="Deel op Instagram">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                      <path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm10 2H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3z"/>
                      <path d="M12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"/>
                      <path d="M17.6 6.4a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0z"/>
                    </svg>
                  </a>

                  <a class="live-social-link" id="share-tt" href="#" aria-label="Deel op TikTok">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                      <path d="M14 3c.6 2.9 2.5 4.8 5 5v3c-2 0-3.8-.7-5-1.9V15a5 5 0 1 1-5-5c.3 0 .7 0 1 .1v3.1c-.3-.2-.6-.3-1-.3a2 2 0 1 0 2 2V3h3z"/>
                    </svg>
                  </a>

                  <a class="live-social-link" id="share-x" href="#" target="_blank" rel="noopener noreferrer" aria-label="Deel op X">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                      <path d="M18.9 3H21l-7.6 8.7L22 21h-6.6l-5.2-6.2L4.6 21H2.5l8.2-9.4L2 3h6.7l4.7 5.6L18.9 3zm-2.3 16h1.8L7.4 4.9H5.5L16.6 19z"/>
                    </svg>
                  </a>

                  <a class="live-social-link" id="share-copy" href="#" aria-label="Kopieer link">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                      <path d="M16 1H6a2 2 0 0 0-2 2v12h2V3h10V1z"/>
                      <path d="M18 5H10a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2zm0 16H10V7h8v14z"/>
                    </svg>
                  </a>
                </div>
              </div>

              <button type="button" class="btn-ghost-sm" id="ev-contact">Inschrijven / contact</button>
            </div>

            <div class="ad-card-body" style="margin-top:12px;">
              <!-- Details -->
              <div id="ev-desc"></div>
              <div id="ev-extra" style="margin-top:10px;"></div>

              <!-- AD: In-card placement (below content) -->
              <div class="footer-ad" style="margin-top:12px;">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-4062633211824348"
                     data-ad-slot="REPLACE_WITH_SLOT_INCARD_2"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <script>
                  try { (adsbygoogle = window.adsbygoogle || []).push({}); } catch(e) {}
                </script>
              </div>
            </div>

            <p id="ev-status" class="note" style="margin-top:10px; display:none;"></p>
          </div>

        </div>
      </section>
    </main>

    
    <!-- AD: Bottom placement (responsive) -->
    <section class="section-main" style="padding-top:0; padding-bottom:10px;">
      <div class="shell">
        <div class="footer-ad" style="margin-top:12px;">
          <ins class="adsbygoogle"
               style="display:block"
               data-ad-client="ca-pub-4062633211824348"
               data-ad-slot="REPLACE_WITH_SLOT_BOTTOM"
               data-ad-format="auto"
               data-full-width-responsive="true"></ins>
          <script>
            try { (adsbygoogle = window.adsbygoogle || []).push({}); } catch(e) {}
          </script>
        </div>
      </div>
    </section>

    <footer class="footer" id="footer-contact">
      <div class="shell">
        <div class="footer-grid">
          <div class="footer-brand">
            <div>Voetbal4All ¬∑ voor spelers, ouders, trainers en clubs.</div>
            <div class="footer-legal">
              &copy; <span id="year"></span> Voetbal4All. Alle rechten voorbehouden.
            </div>
            <div class="footer-social">
              <a href="https://www.facebook.com/voetbal4all" target="_blank" rel="noopener noreferrer" class="footer-social-link">Facebook</a>
              <a href="https://www.instagram.com/voetbal.4.all/" target="_blank" rel="noopener noreferrer" class="footer-social-link">Instagram</a>
              <a href="https://www.tiktok.com/@voetbal4all.eu" target="_blank" rel="noopener noreferrer" class="footer-social-link">TikTok</a>
            </div>
          </div>
          <div class="footer-ad">
            FOOTER ADVERTENTIE / PARTNERLOGO<br>
            <span class="ad-size">Footer-banner</span>
          </div>
        </div>
      </div>
    </footer>

    <!-- LIGHTBOX for flyer/photos -->
    <div class="lightbox" id="lightbox" aria-hidden="true">
      <div class="lightbox-inner">
        <div class="lightbox-actions">
          <button type="button" class="lightbox-close" id="lightbox-close">Sluiten</button>
        </div>
        <img id="lightbox-img" class="lightbox-img" alt="Flyer / foto" />
      </div>
    </div>

  </div>

  <script src="assets/js/image-utils.js"></script>
  <script>
    // Helper for inline onerror fallbacks
    window.V4A_PLACEHOLDER = function () {
      try {
        return (window.V4AImage && typeof window.V4AImage.resolve === "function")
          ? window.V4AImage.resolve("")
          : "/images/placeholder.svg";
      } catch (e) {
        return "/images/placeholder.svg";
      }
    };
  </script>
  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    const API_BASE = "https://voetbal4all-backend-database.onrender.com";

    const titleEl = document.getElementById("ev-title");
    const metaEl  = document.getElementById("ev-meta");
    const descEl  = document.getElementById("ev-desc");
    const extraEl = document.getElementById("ev-extra");
    const statusEl = document.getElementById("ev-status");
    const premiumEl = document.getElementById("ev-premium");

    const dateEl = document.getElementById("ev-date");
    const flagEl = document.getElementById("ev-flag");
    const regionEl = document.getElementById("ev-region");
    const cityEl = document.getElementById("ev-city");
    const clubEl = document.getElementById("ev-club");

    const contactBtn = document.getElementById("ev-contact");

    const shareFb = document.getElementById("share-fb");
    const shareIg = document.getElementById("share-ig");
    const shareTt = document.getElementById("share-tt");
    const shareX  = document.getElementById("share-x");
    const shareCopy = document.getElementById("share-copy");

    const mediaWrap = document.getElementById("ev-media");
    const mediaGrid = document.getElementById("ev-media-grid");

    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById("lightbox-img");
    const lightboxClose = document.getElementById("lightbox-close");

    function fmtDateTime(iso){
      const d = new Date(iso);
      if (isNaN(d.getTime())) return "";
      return d.toLocaleString("nl-BE", {
        day: "2-digit", month: "long", year: "numeric",
        hour: "2-digit", minute: "2-digit"
      });
    }

    function typeLabel(t){
      const x = String(t || "").toLowerCase();
      if (x === "tournament" || x === "tornooi") return "Tornooi";
      if (x === "friendly" || x === "vriendschappelijk") return "Vriendschappelijk";
      if (x === "stage") return "Stage";
      if (x === "camp" || x === "voetbalkamp") return "Voetbalkamp";
      return t || "";
    }

    function flagEmoji(countryCode){
      const cc = String(countryCode || "").trim().toUpperCase();
      if (!cc || cc.length !== 2) return "";
      const A = 0x1F1E6;
      const codePoints = [cc.charCodeAt(0) - 65 + A, cc.charCodeAt(1) - 65 + A];
      try { return String.fromCodePoint(...codePoints); } catch(e) { return ""; }
    }

    function getSlug(){
      const params = new URLSearchParams(location.search);
      return params.get("slug") || "";
    }

    function openLightbox(src){
      if (!src) return;
      lightboxImg.src = src;
      lightbox.classList.add("is-open");
      lightbox.setAttribute("aria-hidden", "false");
    }

    function closeLightbox(){
      lightbox.classList.remove("is-open");
      lightbox.setAttribute("aria-hidden", "true");
      lightboxImg.src = "";
    }

    lightboxClose?.addEventListener("click", closeLightbox);
    lightbox?.addEventListener("click", (e) => {
      if (e.target === lightbox) closeLightbox();
    });

    function setShareLinks(shareUrl, title){
      const text = encodeURIComponent(title || "Voetbal4All event");
      const url = encodeURIComponent(shareUrl);

      // These open the share dialog on the user's social network;
      // any clicks on the shared post will go to `shareUrl` (voetbal4all.eu).
      if (shareFb) shareFb.href = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
      if (shareX)  shareX.href  = `https://twitter.com/intent/tweet?text=${text}&url=${url}`;

      const canWebShare = !!navigator.share;

      function tryWebShare(fallbackOpenUrl){
        return async (ev) => {
          ev.preventDefault();
          if (canWebShare) {
            try {
              await navigator.share({ title: title || "Voetbal4All event", text: title || "Voetbal4All event", url: shareUrl });
              return;
            } catch (e) {
              // user cancelled or not supported by target app -> fall through
            }
          }
          try {
            await navigator.clipboard.writeText(shareUrl);
          } catch (e) {
            // ignore
          }
          window.open(fallbackOpenUrl, "_blank", "noopener,noreferrer");
        };
      }

      if (shareIg) shareIg.onclick = tryWebShare("https://www.instagram.com/");
      if (shareTt) shareTt.onclick = tryWebShare("https://www.tiktok.com/");

      if (shareCopy) {
        shareCopy.onclick = async (ev) => {
          ev.preventDefault();
          try {
            await navigator.clipboard.writeText(shareUrl);
            alert("Link gekopieerd: " + shareUrl);
          } catch (e) {
            prompt("Kopieer deze link:", shareUrl);
          }
        };
      }
    }

    function renderMedia(mediaUrls){
      const urls = (mediaUrls || []).filter(Boolean);
      if (!urls.length) {
        if (mediaWrap) mediaWrap.style.display = "none";
        return;
      }
      if (mediaWrap) mediaWrap.style.display = "block";
      if (!mediaGrid) return;

      mediaGrid.innerHTML = urls.map((u, idx) => {
        const safe = String(u).replaceAll('"','&quot;');
        const resolved = (window.V4AImage && typeof window.V4AImage.resolve === "function") ? window.V4AImage.resolve(safe) : safe;
        const safeResolved = String(resolved || (window.V4A_PLACEHOLDER ? window.V4A_PLACEHOLDER() : "/images/placeholder.svg"));
        return `<img class="ev-media-thumb" src="${safeResolved}" alt="Flyer/foto ${idx+1}" data-media-src="${safeResolved}" loading="lazy" onerror="this.onerror=null;this.src=(window.V4A_PLACEHOLDER?window.V4A_PLACEHOLDER():'/images/placeholder.svg');" />`;
      }).join("");

      mediaGrid.querySelectorAll("[data-media-src]").forEach(img => {
        img.addEventListener("click", () => openLightbox(img.getAttribute("data-media-src")));
      });
    }

    async function loadEvent(){
      const slug = getSlug();
      if (!slug) {
        statusEl.style.display = "block";
        statusEl.textContent = "Geen event geselecteerd. Gebruik ?slug=...";
        return;
      }

      try {
        const res = await fetch(`${API_BASE}/api/events/slug/${encodeURIComponent(slug)}?nocache=1`);
        const data = await res.json();

        if (!data || !data.ok || !data.item) throw new Error("Bad response");

        const ev = data.item;

        document.title = (ev.title ? ev.title + " ‚Äì Voetbal4All" : "Event ‚Äì Voetbal4All");
        titleEl.textContent = ev.title || "Event";

        // Structured meta
        const t = typeLabel(ev.event_type);
        const when = ev.start_at ? fmtDateTime(ev.start_at) : "";
        if (dateEl) dateEl.textContent = [t, when].filter(Boolean).join(" ¬∑ ");

        const cc = ev.country || "";
        const fe = flagEmoji(cc);
        if (flagEl) {
          flagEl.textContent = fe ? (fe + " " + cc.toUpperCase()) : (cc ? cc.toUpperCase() : "");
        }

        // Region (optional: use `region` if present; else fall back to `postal_code`)
        const region = ev.region || ev.postal_code || "";
        if (regionEl) {
          if (region) {
            regionEl.style.display = "inline";
            regionEl.textContent = "Regio: " + region;
          } else {
            regionEl.style.display = "none";
          }
        }

        // City
        const city = ev.city || "";
        if (cityEl) {
          if (city) {
            cityEl.style.display = "inline";
            cityEl.textContent = "Stad: " + city;
          } else {
            cityEl.style.display = "none";
          }
        }

        // Club (optional: use `club` if present; else fall back to `organizer_name`)
        const club = ev.club || ev.organizer_name || "";
        if (clubEl) {
          if (club) {
            clubEl.style.display = "inline";
            clubEl.textContent = "Club: " + club;
          } else {
            clubEl.style.display = "none";
          }
        }

        // premium marker (UI behouden; later koppelen we status/Stripe)
        if (ev.is_premium) premiumEl.style.display = "block";

        // description + extra
        descEl.textContent = ev.description || "";

        const extras = [];
        if (ev.location_name) extras.push(`<div><strong>Locatie:</strong> ${ev.location_name}</div>`);
        if (ev.address) extras.push(`<div><strong>Adres:</strong> ${ev.address}</div>`);
        if (ev.organizer_name) extras.push(`<div><strong>Organisator:</strong> ${ev.organizer_name}</div>`);
        if (ev.organizer_email) extras.push(`<div><strong>E-mail:</strong> ${ev.organizer_email}</div>`);
        if (ev.organizer_phone) extras.push(`<div><strong>Telefoon:</strong> ${ev.organizer_phone}</div>`);
        if (ev.organizer_url) extras.push(`<div><strong>Website:</strong> ${ev.organizer_url}</div>`);
        extraEl.innerHTML = extras.join("");

        // Share URL must always be our platform URL
        const shareUrl = "https://www.voetbal4all.eu/event.html?slug=" + encodeURIComponent(slug);
        const shareTitle = (ev.title || "Event") + " ‚Äì Voetbal4All";
        setShareLinks(shareUrl, shareTitle);

        // Flyer / photos support (now + future-proof)
        // Supported fields (if present): cover_image_url, flyer_image_url, photo_urls (array or comma-separated)
        const media = [];
        if (ev.cover_image_url) media.push(ev.cover_image_url);
        if (ev.flyer_image_url) media.push(ev.flyer_image_url);
        if (Array.isArray(ev.photo_urls)) media.push(...ev.photo_urls);
        if (typeof ev.photo_urls === 'string' && ev.photo_urls.trim()) {
          media.push(...ev.photo_urls.split(',').map(s => s.trim()).filter(Boolean));
        }
        renderMedia(media);

        // Contact (mailto)
        contactBtn.onclick = () => {
          const ok = confirm("Door verder te gaan, ga je akkoord dat jouw e-mailadres gebruikt wordt om te reageren via Voetbal4All.");
          if (!ok) return;

          const email = prompt("Vul je e-mailadres in zodat de organisator je kan contacteren:");
          if (!email) return alert("E-mailadres is nodig om te kunnen reageren.");

          const subject = encodeURIComponent("Reactie via Voetbal4All ‚Äì " + (ev.title || "Event"));
          const body = encodeURIComponent(
            "Event: " + (ev.title || "") +
            "\nSlug: " + slug +
            "\n\nE-mailadres: " + email +
            "\n\nBericht:\n(Voeg je bericht toe.)"
          );

          location.href = "mailto:voetbal4all@outlook.com?subject=" + subject + "&body=" + body;
        };

      } catch (e) {
        console.error("[EVENT] load failed", e);
        statusEl.style.display = "block";
        statusEl.textContent = "Event kon niet geladen worden.";
      }
    }

    loadEvent();
  </script>

  <!-- (Removed stray closing script tag) -->
  <script src="assets/js/nav-mobile.js"></script>
  <script src="assets/js/live-banner.js"></script>
</body>
</html>
