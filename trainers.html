<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <title>Trainers – Voetbal4All</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body class="page-trainers">
  <header class="site-header">
    <div class="container header-top">
      <div class="header-logo">
        <img src="assets/img/logo-voetbal4all.png" alt="Voetbal4All logo">
      </div>
      <div class="header-ad">
        <div class="ad-slot ad-header">
          ADVERTENTIE
        </div>
      </div>
    </div>
    <nav class="main-nav">
      <div class="container nav-inner">
        <ul>
          <li><a href="index.html">Nieuws</a></li>
          <li><a href="index.html#uitslagen">Uitslagen</a></li>
          <li><a href="vacatures.html">Vacatures</a></li>
          <li><a class="is-active" href="trainers.html">Trainers</a></li>
          <li><a href="spelers.html">Spelers</a></li>
          <li><a href="events.html">Events</a></li>
          <li><a href="meer.html">Meer</a></li>
        </ul>
        <a class="btn-nav" href="#trainer-form">Trainerprofiel toevoegen</a>
      </div>
    </nav>
  </header>

  <main class="page-main">
    <section class="hero hero-small">
      <div class="container hero-inner">
        <div>
          <h1>Trainersplatform</h1>
          <p class="hero-text">
            Op deze pagina stellen trainers uit België en Nederland zich voor aan clubs. 
            Gebruik de filters om snel een trainer te vinden of voeg je eigen profiel toe.
          </p>
        </div>
      </div>
    </section>

    <section class="filters-section">
      <div class="container filters-grid">
        <div class="filter-item">
          <label for="tr-filter-land">Land</label>
          <select id="tr-filter-land" name="land">
            <option value="">België &amp; Nederland</option>
            <option value="BE">België</option>
            <option value="NL">Nederland</option>
          </select>
        </div>
        <div class="filter-item">
          <label for="tr-filter-regio">Regio / provincie</label>
          <select id="tr-filter-regio" name="regio">
            <option value="">Alle regio’s</option>
            <option value="Kempen / Noord-Brabant" data-land="BE,NL">Kempen / Noord-Brabant</option>
            <option value="Limburg" data-land="BE,NL">Limburg</option>
            <option value="Antwerpen" data-land="BE">Antwerpen</option>
          </select>
        </div>
        <div class="filter-item">
          <label for="tr-filter-niveau">Niveau</label>
          <select id="tr-filter-niveau" name="niveau">
            <option value="">Alle niveaus</option>
            <option value="Jeugd">Jeugd</option>
            <option value="Senioren">Senioren</option>
            <option value="Dames">Dames</option>
            <option value="Competitief niveau">Competitief niveau</option>
          </select>
        </div>
        <div class="filter-item">
          <label for="tr-filter-licentie">Licentie</label>
          <select id="tr-filter-licentie" name="licentie">
            <option value="">Alle licenties</option>
            <option value="UEFA C">UEFA C</option>
            <option value="UEFA B">UEFA B</option>
            <option value="UEFA A">UEFA A</option>
            <option value="UEFA Pro">UEFA Pro</option>
          </select>
        </div>
        <div class="filter-item">
          <label for="tr-filter-beschikbaarheid">Beschikbaarheid</label>
          <select id="tr-filter-beschikbaarheid" name="beschikbaarheid">
            <option value="">Alle</option>
            <option value="Direct beschikbaar">Direct beschikbaar</option>
            <option value="Vanaf seizoen 2025–2026">Vanaf seizoen 2025–2026</option>
            <option value="In overleg">In overleg</option>
          </select>
        </div>
      </div>
    </section>

    <section class="content-grid">
      <div class="container grid-2col">
        <div class="col-left">
          <section class="block">
            <h2>Trainers in de kijker</h2>
            <div id="trainer-list">
              <p>Trainers worden geladen...</p>
            </div>
          </section>
          <section class="bottom-ad">
            <div class="ad-slot ad-leaderboard">
              ADVERTENTIE 728×90
            </div>
          </section>
        </div>
        <aside class="col-right">
          <div class="ad-slot ad-rect">ADVERTENTIE 300×250</div>
          <section class="block block-cta">
            <h2>Trainerprofiel toevoegen</h2>
            <p>
              Ben je trainer in België of Nederland en wil je graag opgemerkt worden door clubs? 
              Voeg je profiel toe via het formulier hieronder. Na controle wordt je profiel 
              zichtbaar in het overzicht.
            </p>
            <a class="btn-primary btn-block" href="#trainer-form">Trainerprofiel doorgeven</a>
          </section>
          <section class="block">
            <h3>Trainer in de kijker</h3>
            <p><strong>Moderatie</strong><br>
               Nieuwe profielen verschijnen pas nadat de beheerder ze heeft goedgekeurd.</p>
          </section>
          <div class="ad-slot ad-rect">ADVERTENTIE 300×250</div>
        </aside>
      </div>
    </section>

    <section id="trainer-form" class="form-section">
      <div class="container">
        <div class="form-card">
          <h2>Trainerprofiel doorgeven</h2>
          <p class="form-intro">
            Vul dit formulier in om je trainerprofiel te laten opnemen op Voetbal4All.
          </p>
          <form enctype="multipart/form-data">
            <div class="form-row">
              <label for="tr-naam-f">Naam</label>
              <input type="text" id="tr-naam-f" name="naam" required>
            </div>
            <div class="form-row form-row-half">
              <div>
                <label>Landen waarin je training wil geven</label>
                <div style="display:flex; gap:0.75rem; flex-wrap:wrap; font-size:0.9rem;">
                  <label><input type="checkbox" id="tr-land-be" name="land_be" value="BE"> België</label>
                  <label><input type="checkbox" id="tr-land-nl" name="land_nl" value="NL"> Nederland</label>
                </div>
                <small>Vink beide aan als je openstaat voor clubs in België én Nederland.</small>
              </div>
              <div>
                <label for="tr-regio-f">Regio / provincie (voorkeur)</label>
                <select id="tr-regio-f" name="regio">
                  <option value="">Maak een keuze</option>
                </select>
              </div>
            </div>
            <div class="form-row form-row-half">
              <div>
                <label for="tr-licentie-f">Licentie</label>
                <select id="tr-licentie-f" name="licentie">
                  <option value="">Maak een keuze</option>
                  <option value="UEFA C">UEFA C</option>
                  <option value="UEFA B">UEFA B</option>
                  <option value="UEFA A">UEFA A</option>
                  <option value="UEFA Pro">UEFA Pro</option>
                  <option value="KNVB TC3">KNVB Trainer/Coach 3 (UEFA C)</option>
                  <option value="KNVB TC2">KNVB Trainer/Coach 2 (UEFA B)</option>
                  <option value="KNVB Jeugd">KNVB Jeugdvoetbalcoach / jeugdtrainer</option>
                  <option value="Geen officiële licentie">Geen officiële licentie</option>
                  <option value="Andere">Andere (specifieer)</option>
                </select>
              </div>
              <div>
                <label for="tr-niveau-f">Gewenst niveau</label>
                <select id="tr-niveau-f" name="niveau">
                  <option value="">Maak een keuze</option>
                </select>
              </div>
            </div>
            <div class="form-row" id="tr-licentie-andere-row" style="display:none;">
              <label for="tr-licentie-andere">Andere licentie (omschrijving)</label>
              <input type="text" id="tr-licentie-andere" name="licentie_andere" placeholder="bv. lokale opleiding, buitenlandse licentie, ...">
            </div>
            <div class="form-row">
              <label for="tr-ervaring-f">Ervaring / clubs</label>
              <textarea id="tr-ervaring-f" name="ervaring" rows="4" placeholder="Korte samenvatting van je ervaring en (jeugd)clubs."></textarea>
            </div>
            <div class="form-row form-row-half">
              <div>
                <label for="tr-beschikbaarheid-f">Beschikbaarheid</label>
                <select id="tr-beschikbaarheid-f" name="beschikbaarheid">
                  <option value="">Maak een keuze</option>
                  <option value="Direct beschikbaar">Direct beschikbaar</option>
                  <option value="Vanaf volgend seizoen">Vanaf volgend seizoen</option>
                  <option value="In overleg">In overleg</option>
                </select>
              </div>
              <div>
                <label for="tr-contactinfo-f">Contactinfo voor clubs</label>
                <input type="text" id="tr-contactinfo-f" name="contactinfo" placeholder="telefoonnummer of webformulier">
              </div>
            </div>
            <div class="form-row form-row-half">
              <div>
                <label for="tr-cv">CV uploaden (optioneel, PDF)</label>
                <input type="file" id="tr-cv" name="cv" accept="application/pdf">
              </div>
              <div>
                <label for="tr-foto">Profielfoto (optioneel)</label>
                <input type="file" id="tr-foto" name="foto" accept="image/*">
              </div>
            </div>
            <div class="form-row">
              <label for="tr-profieltekst-f">Korte profieltekst</label>
              <textarea id="tr-profieltekst-f" name="profieltekst" rows="5" placeholder="Stel jezelf kort voor aan clubs in België en Nederland."></textarea>
            </div>
            <p class="form-intro">
              In deze eerste fase wordt je profiel na verzending niet automatisch gepubliceerd,
              maar door de beheerder nagekeken en vervolgens goedgekeurd of geweigerd.
            </p>
            <p class="form-note">
              <strong>Let op:</strong> Uw trainerprofiel blijft maximaal 6 maanden zichtbaar op Voetbal4All. 
              Om de website overzichtelijk en ordelijk te houden, wordt uw profiel daarna automatisch verwijderd. 
              Eén maand voor het verstrijken van deze periode ontvangt u een e-mail op het opgegeven adres met de mogelijkheid om de zichtbaarheid van uw profiel met 6 maanden te verlengen.
            </p>
            <button type="submit" class="btn-primary">Trainerprofiel verzenden</button>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>© Voetbal4All – Platform voor clubs, trainers en spelers in België en Nederland. Website in ontwikkeling.</p>
    </div>
  </footer>

  <script>
    (function() {
      const listEl = document.getElementById('trainer-list');
      const filterLand = document.getElementById('tr-filter-land');
      const filterRegio = document.getElementById('tr-filter-regio');
      const filterNiveau = document.getElementById('tr-filter-niveau');
      const filterLicentie = document.getElementById('tr-filter-licentie');
      const filterBeschikbaarheid = document.getElementById('tr-filter-beschikbaarheid');
      let trainers = [];

      function render() {
        if (!listEl) return;
        let filtered = trainers.filter(t => t.status === 'approved');

        const landVal = filterLand.value;
        const regioVal = filterRegio.value;
        const nivVal = filterNiveau.value;
        const licVal = filterLicentie.value;
        const besVal = filterBeschikbaarheid.value;

        if (landVal) filtered = filtered.filter(t => Array.isArray(t.land) && t.land.includes(landVal));
        if (regioVal) filtered = filtered.filter(t => t.regio === regioVal);
        if (nivVal) {
          filtered = filtered.filter(t => (t.niveau && t.niveau.indexOf(nivVal) !== -1) ||
                                          (Array.isArray(t.doelgroepen) && t.doelgroepen.includes(nivVal)));
        }
        if (licVal) filtered = filtered.filter(t => t.licentie === licVal);
        if (besVal) filtered = filtered.filter(t => t.beschikbaarheid === besVal);

        if (!filtered.length) {
          listEl.innerHTML = '<p>Geen trainers gevonden met de huidige filters.</p>';
          return;
        }

        listEl.innerHTML = '';
        filtered.forEach(t => {
          const article = document.createElement('article');
          article.className = 'vacature-card trainer-card';

          const mainDiv = document.createElement('div');
          mainDiv.className = 'vacature-main trainer-main';

          const h3 = document.createElement('h3');
          h3.textContent = t.naam;
          mainDiv.appendChild(h3);

          const pClub = document.createElement('p');
          pClub.className = 'vacature-club';
          pClub.textContent = (t.licentie ? t.licentie + ' – ' : '') + (t.regio || '');
          mainDiv.appendChild(pClub);

          const metaP = document.createElement('p');
          metaP.className = 'vacature-meta';

          if (Array.isArray(t.tags)) {
            t.tags.forEach((tag, idx) => {
              const span = document.createElement('span');
              span.className = 'tag' + (idx === t.tags.length - 1 ? ' tag-type' : '');
              span.textContent = tag;
              metaP.appendChild(span);
            });
          }

          mainDiv.appendChild(metaP);

          const teaserP = document.createElement('p');
          teaserP.className = 'vacature-teaser';
          teaserP.textContent = t.profieltekst || '';
          mainDiv.appendChild(teaserP);

          const sideDiv = document.createElement('div');
          sideDiv.className = 'vacature-side trainer-side';

          if (t.zoekt) {
            const pZoekt = document.createElement('p');
            pZoekt.className = 'vacature-deadline';
            pZoekt.innerHTML = '<strong>Zoekt:</strong> ' + t.zoekt;
            sideDiv.appendChild(pZoekt);
          }

          const btn = document.createElement('a');
          btn.href = '#';
          btn.className = 'btn-primary btn-small';
          btn.textContent = 'Bekijk profiel / contact';
          sideDiv.appendChild(btn);

          article.appendChild(mainDiv);
          article.appendChild(sideDiv);
          listEl.appendChild(article);
        });
      }

      function attachFilter(el) {
        if (!el) return;
        el.addEventListener('change', render);
      }

      attachFilter(filterLand);
      attachFilter(filterRegio);
      attachFilter(filterNiveau);
      attachFilter(filterLicentie);
      attachFilter(filterBeschikbaarheid);

      fetch('data/trainers.json')
        .then(resp => resp.json())
        .then(data => {
          trainers = data.trainers || [];
          render();
        })
        .catch(err => {
          console.error('Fout bij laden trainers.json', err);
          if (listEl) listEl.innerHTML = '<p>Kon de trainerslijst niet laden.</p>';
        });
    })();

    (function() {
      const selectLic = document.getElementById('tr-licentie-f');
      const rowAndere = document.getElementById('tr-licentie-andere-row');
      const inputAndere = document.getElementById('tr-licentie-andere');
      if (!selectLic || !rowAndere || !inputAndere) return;

      function updateAndere() {
        if (selectLic.value === 'Andere') {
          rowAndere.style.display = 'block';
          inputAndere.required = true;
        } else {
          rowAndere.style.display = 'none';
          inputAndere.required = false;
          inputAndere.value = '';
        }
      }
      selectLic.addEventListener('change', updateAndere);
    })();
  </script>
</body>
</html>
